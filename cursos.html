<!-- cursos.html mejorado -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cursos Recomendados</title>
  <link rel="stylesheet" href="estilos.css">
  <style>
    .cursos-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }
    
    .curso-card {
      background-color: white;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      position: relative;
    }
    
    .curso-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    
    .curso-header {
      background-color: var(--color-primario);
      color: white;
      padding: 15px;
      text-align: center;
    }
    
    .curso-header h3 {
      margin: 0;
      color: white;
    }
    
    .curso-body {
      padding: 20px;
    }
    
    .curso-body ul {
      list-style-type: none;
      padding: 0;
      margin: 15px 0;
    }
    
    .curso-body li {
      border-bottom: 1px solid #eee;
      padding: 8px 0;
    }
    
    .curso-body button {
      width: 100%;
      margin-top: 10px;
    }
    
    .tags-container {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      margin: 10px 0;
    }
    
    .tag {
      background-color: #e1f5fe;
      color: #0277bd;
      padding: 3px 8px;
      border-radius: 50px;
      font-size: 0.8rem;
    }
    
    .perfil-info {
      background-color: #fff;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 30px;
    }
    
    .nivel-curso {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 4px;
      margin-left: 5px;
      font-size: 0.8rem;
      font-weight: bold;
    }
    
    .basico {
      background-color: #e8f5e9;
      color: #2e7d32;
    }
    
    .intermedio {
      background-color: #fff3e0;
      color: #e65100;
    }
    
    .avanzado {
      background-color: #e8eaf6;
      color: #3949ab;
    }
    
    .plataforma {
      display: block;
      color: #757575;
      font-size: 0.9rem;
      margin-top: 2px;
    }
    
    .curso-relevancia {
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: #ffd700;
      color: #333;
      padding: 3px 8px;
      border-radius: 50px;
      font-size: 0.8rem;
      font-weight: bold;
    }
    
    .recomendacion-personalizada {
      background-color: #e3f2fd;
      border-left: 5px solid #1e88e5;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }
    
    .habilidades {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      margin: 10px 0;
    }
    
    .habilidad-tag {
      background-color: #dcedc8;
      color: #558b2f;
      padding: 5px 10px;
      border-radius: 50px;
      font-size: 0.9rem;
    }
    
    .subtitulo {
      font-size: 1.1rem;
      color: #455a64;
      margin: 15px 0 5px 0;
    }
    
    .cursos-categoria {
      margin-bottom: 40px;
    }
    
    .filtros {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 20px 0;
      padding: 15px;
      background-color: #f5f5f5;
      border-radius: 8px;
    }
    
    .filtro-btn {
      background-color: white;
      border: 1px solid #ddd;
      padding: 8px 15px;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .filtro-btn:hover, .filtro-btn.activo {
      background-color: var(--color-acento);
      color: white;
      border-color: var(--color-acento);
    }
    
    .mensaje-info {
      background-color: #e3f2fd;
      padding: 15px;
      border-radius: 8px;
      border-left: 5px solid #1e88e5;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <nav>
    <a href="index.html">Inicio</a>
    <a href="diagnostico.html">Diagn칩stico</a>
    <a href="cursos.html">Cursos</a>
    <a href="ofertas.html">Ofertas</a>
  </nav>

  <main>
    <div class="contenedor">
      <h1>Cursos recomendados para tu perfil</h1>
      
      <div id="perfil-info" class="perfil-info">
        <!-- Aqu칤 se mostrar치 la informaci칩n del perfil -->
      </div>
      
      <div class="filtros">
        <button class="filtro-btn activo" data-filtro="todos">Todos los cursos</button>
        <button class="filtro-btn" data-filtro="profesion">Mi profesi칩n ideal</button>
        <button class="filtro-btn" data-filtro="habilidades">Habilidades clave</button>
        <button class="filtro-btn" data-filtro="gratuitos">Cursos gratuitos</button>
      </div>
      
      <div id="cursos-recomendados" class="cursos-container">
        <!-- Aqu칤 ir치n los cursos recomendados espec칤ficamente para la profesi칩n -->
      </div>
      
      <div id="cursos-area-principal" class="cursos-categoria">
        <!-- Aqu칤 ir치n los cursos del 치rea principal -->
      </div>
      
      <div id="cursos-habilidades" class="cursos-categoria">
        <!-- Aqu칤 ir치n los cursos para desarrollar habilidades clave -->
      </div>
    </div>
  </main>

  <!-- A침ade esta l칤nea antes de cualquier otro script -->
  <script src="netlify-config.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Recuperamos datos del localStorage
      const perfil = localStorage.getItem("perfil") || "No definido";
      const porcentajeEmprendedor = localStorage.getItem("porcentajeEmprendedor") || "0";
      const porcentajeEmpleado = localStorage.getItem("porcentajeEmpleado") || "0";
      const areaLaboral = localStorage.getItem("areaLaboral") || "No definido";
      const profesionRecomendada = localStorage.getItem("profesionRecomendada") || "No definido";
      const habilidadesClave = JSON.parse(localStorage.getItem("habilidadesClave") || "[]");
      const areasSecundarias = JSON.parse(localStorage.getItem("areasSecundarias") || "[]");
      
      // Mostramos informaci칩n del perfil
      const perfilInfoDiv = document.getElementById("perfil-info");
      perfilInfoDiv.innerHTML = `
        <h3>Tu perfil profesional: ${profesionRecomendada}</h3>
        <p>츼rea principal: <strong>${areaLaboral}</strong></p>
        
        <div class="subtitulo">Orientaci칩n profesional:</div>
        <div class="grafico-resultados">
          <div class="barra-container">
            <label>Emprendedor</label>
            <div class="barra">
              <div class="barra-valor" style="width: ${porcentajeEmprendedor}%"></div>
            </div>
            <span>${porcentajeEmprendedor}%</span>
          </div>
          
          <div class="barra-container">
            <label>Empleado</label>
            <div class="barra">
              <div class="barra-valor" style="width: ${porcentajeEmpleado}%"></div>
            </div>
            <span>${porcentajeEmpleado}%</span>
          </div>
        </div>
        
        <div class="subtitulo">Habilidades a desarrollar:</div>
        <div class="habilidades">
          ${habilidadesClave.map(habilidad => `<span class="habilidad-tag">${habilidad}</span>`).join('')}
        </div>
      `;
      
      // Base de datos de cursos por 치rea y profesi칩n
      const cursos = {
        "Tecnolog칤a y Programaci칩n": [
          {
            titulo: "Fundamentos de Programaci칩n",
            descripcion: "Aprende los conceptos b치sicos de programaci칩n aplicables a cualquier lenguaje.",
            nivel: "basico",
            duracion: "6 semanas",
            plataforma: "Udemy",
            precio: "Gratuito",
            tags: ["programaci칩n", "algoritmos", "l칩gica"],
            habilidades: ["Pensamiento cr칤tico", "Resoluci칩n de problemas"]
          },
          {
            titulo: "Desarrollo Web Full-Stack",
            descripcion: "Domina HTML, CSS, JavaScript y frameworks modernos para construir aplicaciones web completas.",
            nivel: "intermedio",
            duracion: "12 semanas",
            plataforma: "Coursera",
            precio: "$49.99/mes",
            tags: ["desarrollo web", "javascript", "HTML/CSS"],
            habilidades: ["Habilidades t칠cnicas", "Creatividad"]
          },
          {
            titulo: "Especializaci칩n en Ciberseguridad",
            descripcion: "Aprende a proteger sistemas y redes contra amenazas digitales.",
            nivel: "avanzado",
            duracion: "8 semanas",
            plataforma: "edX",
            precio: "$199",
            tags: ["seguridad", "redes", "hacking 칠tico"],
            habilidades: ["An치lisis y resoluci칩n de problemas", "Pensamiento cr칤tico"]
          }
        ],
        "Desarrollo de Software": [
          {
            titulo: "Arquitectura de Software",
            descripcion: "Aprende los principios de dise침o y patrones para crear sistemas escalables y mantenibles.",
            nivel: "avanzado",
            duracion: "10 semanas",
            plataforma: "Pluralsight",
            precio: "$29/mes",
            tags: ["arquitectura", "patrones de dise침o", "principios SOLID"],
            habilidades: ["An치lisis y resoluci칩n de problemas", "Pensamiento cr칤tico"]
          },
          {
            titulo: "Python para Ciencia de Datos",
            descripcion: "Domina el uso de Python para an치lisis de datos, visualizaci칩n y machine learning.",
            nivel: "intermedio",
            duracion: "8 semanas",
            plataforma: "DataCamp",
            precio: "$25/mes",
            tags: ["python", "an치lisis de datos", "visualizaci칩n"],
            habilidades: ["Habilidades t칠cnicas", "An치lisis y resoluci칩n de problemas"]
          }
        ],
        "Dise침o y Artes": [
          {
            titulo: "Fundamentos del Dise침o Gr치fico",
            descripcion: "Aprende los principios b치sicos de composici칩n, color y tipograf칤a.",
            nivel: "basico",
            duracion: "4 semanas",
            plataforma: "Domestika",
            precio: "$12.99",
            tags: ["dise침o", "color", "composici칩n"],
            habilidades: ["Creatividad", "Atenci칩n al detalle"]
          },
          {
            titulo: "Dise침o UX/UI Avanzado",
            descripcion: "Aprende a crear interfaces intuitivas y experiencias de usuario efectivas.",
            nivel: "avanzado",
            duracion: "10 semanas",
            plataforma: "Interaction Design Foundation",
            precio: "$15/mes",
            tags: ["UX/UI", "dise침o de interfaz", "prototipado"],
            habilidades: ["Creatividad", "Empat칤a"]
          }
        ],
        "Marketing y Ventas": [
          {
            titulo: "Marketing Digital Completo",
            descripcion: "Domina las estrategias y herramientas de marketing online actuales.",
            nivel: "intermedio",
            duracion: "8 semanas",
            plataforma: "Google Activate",
            precio: "Gratuito",
            tags: ["marketing digital", "SEO", "redes sociales"],
            habilidades: ["Comunicaci칩n", "An치lisis y resoluci칩n de problemas"]
          },
          {
            titulo: "T칠cnicas Avanzadas de Venta",
            descripcion: "Aprende estrategias efectivas para cerrar ventas y manejar objeciones.",
            nivel: "intermedio",
            duracion: "6 semanas",
            plataforma: "LinkedIn Learning",
            precio: "$29.99/mes",
            tags: ["ventas", "negociaci칩n", "persuasi칩n"],
            habilidades: ["Comunicaci칩n", "Negociaci칩n"]
          }
        ],
        "Finanzas y Contabilidad": [
          {
            titulo: "Fundamentos de Contabilidad",
            descripcion: "Aprende los principios b치sicos de la contabilidad y finanzas.",
            nivel: "basico",
            duracion: "6 semanas",
            plataforma: "Khan Academy",
            precio: "Gratuito",
            tags: ["contabilidad", "finanzas", "principios contables"],
            habilidades: ["An치lisis y resoluci칩n de problemas", "Organizaci칩n"]
          },
          {
            titulo: "An치lisis Financiero para Empresas",
            descripcion: "Aprende a analizar informes financieros y tomar decisiones estrat칠gicas.",
            nivel: "avanzado",
            duracion: "8 semanas",
            plataforma: "Coursera",
            precio: "$49/mes",
            tags: ["an치lisis financiero", "valoraci칩n", "inversiones"],
            habilidades: ["An치lisis y resoluci칩n de problemas", "Pensamiento cr칤tico"]
          }
        ],
        "Recursos Humanos": [
          {
            titulo: "Gesti칩n del Talento Humano",
            descripcion: "Aprende estrategias modernas para atraer, desarrollar y retener talento.",
            nivel: "intermedio",
            duracion: "6 semanas",
            plataforma: "edX",
            precio: "$149",
            tags: ["RRHH", "gesti칩n de talento", "desarrollo organizacional"],
            habilidades: ["Comunicaci칩n", "Empat칤a"]
          },
          {
            titulo: "T칠cnicas de Selecci칩n de Personal",
            descripcion: "Domina el proceso de reclutamiento y selecci칩n de candidatos ideales.",
            nivel: "intermedio",
            duracion: "4 semanas",
            plataforma: "Udemy",
            precio: "$14.99",
            tags: ["reclutamiento", "entrevistas", "evaluaci칩n"],
            habilidades: ["Comunicaci칩n", "An치lisis y resoluci칩n de problemas"]
          }
        ]
        // Otras 치reas...
      };
      
      // Cursos espec칤ficos por habilidad
      const cursosHabilidades = {
        "An치lisis y resoluci칩n de problemas": [
          {
            titulo: "Pensamiento Cr칤tico y Resoluci칩n de Problemas",
            descripcion: "Desarrolla habilidades para analizar situaciones complejas y encontrar soluciones efectivas.",
            nivel: "intermedio",
            duracion: "4 semanas",
            plataforma: "Coursera",
            precio: "Gratuito",
            tags: ["pensamiento cr칤tico", "resoluci칩n de problemas", "an치lisis"]
          }
        ],
        "Comunicaci칩n": [
          {
            titulo: "Comunicaci칩n Efectiva en el Entorno Laboral",
            descripcion: "Mejora tus habilidades para comunicarte claramente en cualquier situaci칩n profesional.",
            nivel: "basico",
            duracion: "3 semanas",
            plataforma: "LinkedIn Learning",
            precio: "Incluido con suscripci칩n",
            tags: ["comunicaci칩n", "presentaciones", "persuasi칩n"]
          }
        ],
        "Liderazgo": [
          {
            titulo: "Liderazgo y Gesti칩n de Equipos",
            descripcion: "Aprende a motivar, inspirar y dirigir equipos hacia objetivos comunes.",
            nivel: "intermedio",
            duracion: "6 semanas",
            plataforma: "edX",
            precio: "$99",
            tags: ["liderazgo", "gesti칩n", "motivaci칩n"]
          }
        ],
        "Creatividad": [
          {
            titulo: "T칠cnicas de Creatividad e Innovaci칩n",
            descripcion: "Potencia tu capacidad creativa con m칠todos probados para generar ideas innovadoras.",
            nivel: "basico",
            duracion: "4 semanas",
            plataforma: "Domestika",
            precio: "$9.99",
            tags: ["creatividad", "innovaci칩n", "design thinking"]
          }
        ]
        // Otras habilidades...
      };
      
      // Cursos espec칤ficos por profesi칩n (algunos ejemplos)
      const cursosProfesion = {
        "Desarrollador Full-Stack": [
          {
            titulo: "Bootcamp Desarrollo Web Full-Stack",
            descripcion: "Formaci칩n intensiva para convertirte en desarrollador web con MongoDB, Express, React y Node.js.",
            nivel: "intermedio",
            duracion: "12 semanas",
            plataforma: "Udemy",
            precio: "$19.99",
            tags: ["MERN stack", "javascript", "desarrollo web"],
            relevancia: "Altamente recomendado"
          }
        ],
        "Dise침ador UX/UI": [
          {
            titulo: "M치ster en Dise침o UX/UI",
            descripcion: "Aprende a dise침ar experiencias digitales centradas en el usuario que cautiven y conviertan.",
            nivel: "avanzado",
            duracion: "16 semanas",
            plataforma: "Coursera",
            precio: "$39/mes",
            tags: ["dise침o UX", "interfaces", "investigaci칩n de usuarios"],
            relevancia: "Altamente recomendado"
          }
        ],
        "Especialista en Marketing Digital": [
          {
            titulo: "Certificaci칩n en Marketing Digital",
            descripcion: "Programa completo para dominar todas las 치reas del marketing online actual.",
            nivel: "intermedio",
            duracion: "8 semanas",
            plataforma: "Google Digital Garage",
            precio: "Gratuito",
            tags: ["marketing digital", "certificaci칩n", "estrategia digital"],
            relevancia: "Altamente recomendado"
          }
        ]
        // Otras profesiones...
      };
      
      // Funci칩n para generar un curso en HTML
      function generarCursoHTML(curso, relevancia = null) {
        return `
          <div class="curso-card">
            ${relevancia ? `<span class="curso-relevancia">${relevancia}</span>` : ''}
            <div class="curso-header">
              <h3>${curso.titulo} <span class="nivel-curso ${curso.nivel}">${curso.nivel}</span></h3>
            </div>
            <div class="curso-body">
              <p>${curso.descripcion}</p>
              <span class="plataforma">Plataforma: ${curso.plataforma}</span>
              
              <div class="tags-container">
                ${curso.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
              </div>
              
              <ul>
                <li><strong>Duraci칩n:</strong> ${curso.duracion}</li>
                <li><strong>Precio:</strong> ${curso.precio}</li>
              </ul>
              <button>Ver detalles</button>
            </div>
          </div>
        `;
      }
      
      // Funci칩n para mostrar los cursos seg칰n el perfil
      const mostrarCursos = () => {
        // Si no hay perfil definido, mostrar mensaje
        if (perfil === "No definido" || areaLaboral === "No definido") {
          document.getElementById("perfil-info").innerHTML = `
            <div class="mensaje-info">
              <h3>A칰n no has realizado el diagn칩stico</h3>
              <p>Para recibir recomendaciones personalizadas, te invitamos a completar el <a href="diagnostico.html">diagn칩stico laboral</a>.</p>
            </div>
          `;
          
          document.getElementById("cursos-recomendados").innerHTML = `
            <h2>Cursos Populares</h2>
            <div class="cursos-grid">
              <div class="curso-card">
                <div class="curso-header">
                  <h3>Fundamentos de Desarrollo Profesional</h3>
                </div>
                <div class="curso-body">
                  <p>Curso b치sico para orientar tu carrera profesional y descubrir tu potencial.</p>
                  <button>Ver detalles</button>
                </div>
              </div>
            </div>
          `;
          
          return;
        }
        
        // 1. Cursos recomendados para la profesi칩n espec칤fica
        const cursosRecomendadosDiv = document.getElementById("cursos-recomendados");
        let htmlCursosRecomendados = `
          <div class="recomendacion-personalizada">
            <h3>游꿢 Ruta de formaci칩n personalizada para: ${profesionRecomendada}</h3>
            <p>Estos cursos est치n especialmente seleccionados para ayudarte a desarrollarte como ${profesionRecomendada}.</p>
          </div>
          
          <div class="cursos-grid">
        `;
        
        // Verificamos si existen cursos espec칤ficos para la profesi칩n recomendada
        if (cursosProfesion[profesionRecomendada]) {
          cursosProfesion[profesionRecomendada].forEach(curso => {
            htmlCursosRecomendados += generarCursoHTML(curso, curso.relevancia);
          });
        } else {
          // Si no hay cursos espec칤ficos para la profesi칩n, mostramos un mensaje
          htmlCursosRecomendados += `
            <div class="mensaje-info" style="grid-column: 1/-1;">
              <h3>No tenemos cursos espec칤ficos para ${profesionRecomendada} a칰n</h3>
              <p>Pero hemos seleccionado los mejores cursos de ${areaLaboral} que te ayudar치n en tu carrera.</p>
            </div>
          `;
        }
        
        htmlCursosRecomendados += `</div>`;
        cursosRecomendadosDiv.innerHTML = `<h2>Cursos recomendados para tu profesi칩n ideal</h2>${htmlCursosRecomendados}`;
        
        // 2. Cursos del 치rea principal
        const cursosAreaDiv = document.getElementById("cursos-area-principal");
        let htmlCursosArea = `<div class="cursos-grid">`;
        
        if (cursos[areaLaboral]) {
          cursos[areaLaboral].forEach(curso => {
            htmlCursosArea += generarCursoHTML(curso);
          });
        } else {
          // Mostrar mensaja si no hay cursos espec칤ficos para el 치rea
          htmlCursosArea += `
            <div class="mensaje-info" style="grid-column: 1/-1;">
              <p>Estamos trabajando en nuevos cursos para esta 치rea.</p>
            </div>
          `;
        }
        
        htmlCursosArea += `</div>`;
        cursosAreaDiv.innerHTML = `<h2>Cursos de ${areaLaboral}</h2>${htmlCursosArea}`;
        
        // 3. Cursos para desarrollar habilidades clave
        const cursosHabilidadesDiv = document.getElementById("cursos-habilidades");
        let htmlCursosHabilidades = `
          <p>Estos cursos te ayudar치n a desarrollar las habilidades m치s importantes para tu perfil profesional.</p>
          <div class="cursos-grid">
        `;
        
        // Mostrar cursos para las primeras 2 habilidades clave
        let cursosAgregados = 0;
        
        habilidadesClave.slice(0, 3).forEach(habilidad => {
          if (cursosHabilidades[habilidad]) {
            cursosHabilidades[habilidad].forEach(curso => {
              htmlCursosHabilidades += generarCursoHTML(curso);
              cursosAgregados++;
            });
          }
        });
        
        if (cursosAgregados === 0) {
          htmlCursosHabilidades += `
            <div class="mensaje-info" style="grid-column: 1/-1;">
              <p>Estamos trabajando en cursos espec칤ficos para desarrollar tus habilidades clave.</p>
            </div>
          `;
        }
        
        htmlCursosHabilidades += `</div>`;
        cursosHabilidadesDiv.innerHTML = `<h2>Cursos para desarrollar tus habilidades clave</h2>${htmlCursosHabilidades}`;
        
        // Establecer funcionalidad para los filtros
        document.querySelectorAll('.filtro-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            document.querySelectorAll('.filtro-btn').forEach(b => b.classList.remove('activo'));
            btn.classList.add('activo');
            
            const filtro = btn.getAttribute('data-filtro');
            
            switch(filtro) {
              case 'todos':
                document.getElementById('cursos-recomendados').style.display = 'block';
                document.getElementById('cursos-area-principal').style.display = 'block';
                document.getElementById('cursos-habilidades').style.display = 'block';
                break;
              case 'profesion':
                document.getElementById('cursos-recomendados').style.display = 'block';
                document.getElementById('cursos-area-principal').style.display = 'none';
                document.getElementById('cursos-habilidades').style.display = 'none';
                break;
              case 'habilidades':
                document.getElementById('cursos-recomendados').style.display = 'none';
                document.getElementById('cursos-area-principal').style.display = 'none';
                document.getElementById('cursos-habilidades').style.display = 'block';
                break;
              case 'gratuitos':
                // Filtrar solo cursos gratuitos (se implementar칤a con m치s tiempo)
                break;
            }
          });
        });
      };
      
      // Mostrar los cursos
      mostrarCursos();
    });
  </script>

 <script src="profile-verification.js"></script>
 <script src="auth-content-guard.js"></script>

</body>
</html>